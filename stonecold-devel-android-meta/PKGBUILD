# Maintainer: StoneCold <forumi0721[at]gmail[dot]com>

pkgname=("stonecold-devel-android-meta")
pkgver=20150117.1
pkgrel=1
pkgdesc="Install android packages"
arch=("x86_64")
url="http://localhost/"
license=("Other")
depends=(
  "android-tools"
  "android-udev"
  "bison"
  "curl"
  "flex"
  "gcc-libs-multilib"
  "gcc-multilib"
  "git"
  "gnupg"
  "gperf"
  "jdk7-openjdk"
  "lib32-gcc-libs"
  "lib32-ncurses"
  "lib32-readline"
  "lib32-zlib"
  "ncurses"
  "perl-switch"
  "schedtool"
  "sdl"
  "squashfs-tools"
  "unzip"
  "wxgtk"
  "zip"
  "zlib"
)
optdepends=(
  "android-apktool:         a tool for reengineering Android apk files"
  "android-ndk:             Android C/C++ developer kit"
  "android-sdk:             Google Android SDK"
  "android-sdk-build-tools: Build-Tools for Google Android SDK (aapt, aidl, dexdump, dx, llvm-rs-cc)"
  "pngcrush:                A tool for optimizing the compression of PNG files"
  "repo:                    The Multiple Git Repository Tool from the Android Open Source Project"
)

pkgver() {
  local ldate="$(date +'%Y%m%d')"
  local lrevision=0
  local lrevision2=0
  local larch=${arch}
  if [ "${larch}" != "any" ]; then
    larch="${CARCH}"
  fi
  for file in $(ls "${startdir}"/${pkgname}-${ldate}.*-${pkgrel}-${larch}.pkg.* 2> /dev/null)
  do
    lrevision2="$(echo $(basename "${file}") | sed -e "s/${pkgname}-${ldate}.//g" -e "s/-${pkgrel}-${larch}.pkg\..*//g" 2> /dev/null)"
    if [ "${lrevision2}" > 0 ] && [ "${lrevision}" -lt "${lrevision2}" ]; then
      lrevision=${lrevision2}
    fi
  done
  lrevision=$(($lrevision + 1))
  echo "${ldate}.${lrevision}"
}

package() {
  echo > /dev/null
}

# vim:set ts=2 sw=2 et:
